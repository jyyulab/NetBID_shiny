<!DOCTYPE html>

<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  

  <title>Tutorial for hidden driver estimation - </title>
  <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css">
  
  <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

  <div class="page-wrap">
    <div class="side-bar">
      <a href="http://localhost:4000" class="site-title fs-6 lh-tight"></a>
      <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
      <div class="navigation main-nav js-main-nav">
        <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/" class="navigation-list-link">NetBIDshiny</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item active">
            
            <a href="http://localhost:4000/docs/tutorial4MR" class="navigation-list-link active">Tutorial for hidden driver estimation</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/docs/tutorial4Vis" class="navigation-list-link">Tutorial for Visualization</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/docs/FAQ" class="navigation-list-link">FAQ</a>
            
          </li>
        
      
    
  </ul>
</nav>

      </div>
      <footer role="contentinfo" class="site-footer">
        <p class="text-small text-grey-dk-000 mb-0">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p>
      </footer>
    </div>
    <div class="main-content-wrap">
      <div class="page-header">
        <div class="main-content">
          
          <div class="search js-search">
            <div class="search-input-wrap">
              <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search " aria-label="Search " autocomplete="off">
              <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
            </div>
            <div class="js-search-results search-results-wrap"></div>
          </div>
          
          
        </div>
      </div>
      <div class="main-content js-main-content" tabindex="0">
        
          
        
        <div id="main-content" class="page-content" role="main">
          <h1 id="tutorial-for-hidden-driver-master-regulator-estimation">Tutorial for Hidden driver (master regulator) estimation</h1>

<p>The purpose of NetBIDshiny:</p>

<p><strong>provide an interactive online tool for hidden driver analysis and automatically output plots for top drivers</strong>.</p>

<p>We choose:</p>

<ol>
  <li>
    <p>the human MB (medulloblastoma) demo dataset from GEO database as in NetBID2: <a href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE116028">GSE116028</a>, with network files generated by using the same dataset.</p>
  </li>
  <li>
    <p>the mouse BPD (bronchopulmonary dysplasia) demo dataset from GEO database <a href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE25286">GSE25286</a>, with network files generated by using normal lung tissue from <a href="https://gtexportal.org/home/">GTEx</a> (human).</p>
  </li>
</ol>

<hr />
<h2 id="quick-navigation">Quick Navigation</h2>

<ul>
  <li>
    <p><a href="#introduction-to-user-interface-of-netbidshiny">Introduction to User Interface of NetBIDshiny</a></p>
  </li>
  <li>
    <p><a href="#upload-the-eset-rdata-and-network-data">Upload the eset Rdata and network data</a></p>
  </li>
  <li>
    <p><a href="#select-the-options-and-start-an-analysis">Select the options and start an analysis</a></p>
  </li>
  <li>
    <p><a href="#quick-demo-for-the-mouse-dataset">Quick demo for the mouse dataset</a></p>
  </li>
  <li>
    <p><a href="#q--a-how-to-prepare-eset-class-object-rdata-file-">Q &amp; A: How to prepare eSet class object RData file ?</a></p>
  </li>
  <li>
    <p><a href="#q--a-how-to-use-self-defined-network-files-">Q &amp; A: How to use self-defined network files ?</a></p>
  </li>
  <li>
    <p><a href="#q--a-how-to-use-if-only-has-tf-network-without-sig-network-">Q &amp; A: How to use if only has TF network without SIG network ?</a></p>
  </li>
  <li>
    <p><a href="#q--a-how-to-deploy-the-application-by-having-pre-generated-network-files-or-calculation-dataset-">Q &amp; A: How to deploy the application by having pre-generated network files or calculation dataset ?</a></p>
  </li>
</ul>

<hr />

<p>Start the app, here we could choose the settle down the project main directory (if not set here, user could choose the output directory in the application):</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">NetBIDshiny.run4MR</span><span class="p">(</span><span class="n">project_main_dir</span><span class="o">=</span><span class="s1">'result/'</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h2 id="introduction-to-user-interface-of-netbidshiny">Introduction to User Interface of NetBIDshiny</h2>

<p>The following screenshot is the user interface of NetBIDshiny,</p>

<p><img src="f1.png" alt="f1" /></p>

<p><strong>The user interface consists of 2 parts:</strong></p>

<ul>
  <li>
    <p>Left panel is designed for uploading dataset, including the calculation dataset and two network files generated by SJAracne.</p>
  </li>
  <li>
    <p>Right panel is for the options of the uploaded dataset, and start an automatically hidden driver analysis.</p>
  </li>
</ul>

<hr />

<h2 id="upload-the-eset-rdata-and-network-data">Upload the eset Rdata and network data</h2>

<p>We will use the human dataset in NetBIDshiny package as a demo. User could directly click the “LOAD THE DEMO DATA” button the skip this step and check the next part usage.</p>

<p>For the calculation dataset, user could click the “BROWSE” button to upload the RData file or click the “CHOOSE THE RDATA FILE CONTAINING THE EXPRESSIONSET CLASS OBJECT” button to select the file in the local directory.</p>

<p>For the two network files, similarly, user could choose to upload or choose from the local directory (this is essential if user want to deploy the app in a local lan environment, which could share network files by calculating or collecting them in advance).</p>

<p><img src="f2.png" alt="f2" /></p>

<h2 id="select-the-options-and-start-an-analysis">Select the options and start an analysis</h2>

<p>Click the “LOAD THE DATA” button, and follow the order of the box to select the options one by one and input the project name.</p>

<p>After all required options fixed, the page will be like this:</p>

<p><img src="f3.png" alt="f3" /></p>

<p>Click the “START THE DRIVER ESTIMATION ANALYSIS”, wait (about 1~2 mins) until the Result message update like this:</p>

<p><img src="f4.png" alt="f4" /></p>

<p>If check the “Do plot for the top drivers” and the plot for top drivers will also be generated, which will take more time (about 1 mins).</p>

<p>If user input the <code class="highlighter-rouge">project_main_dir</code> in running the application, user need to click to download the zipped result file; otherwise, user need to select the output directory in previous step and need to follow the instructions on the page to find the output files.</p>

<p>The result files will be structured like this:</p>

<p><img src="f5.png" alt="f5" /></p>

<p>A README.txt file is generated in the output directory to record the options in this analysis.</p>

<p>The DATA/ directory contains the result dataset, the final RData file including network structure, calculation dataset, inferred activity, differentiated statistics and final master table for all tested drivers. The excel file is the formatted result file for all drivers.</p>

<p><img src="f6.png" alt="f6" /></p>

<p>The QC/ directory contains QC plots (if check the <code class="highlighter-rouge">Do QC plot for the network and activity eset</code>)</p>

<p><img src="f7.png" alt="f7" /></p>

<p>The PLOT/ directory contains plots for top drivers (if check the <code class="highlighter-rouge">Do plot for the top drivers</code>)</p>

<p><img src="f8.png" alt="f8" /></p>

<h2 id="quick-demo-for-the-mouse-dataset">Quick demo for the mouse dataset</h2>

<p>We could input the mouse dataset but select human network files. In this condition, NetBID2 will automatically do ID transfer for the input mouse dataset and the final output will be at the human ID level.</p>

<p>User could try the demo dataset in NetBIDshiny package:</p>

<p><img src="f9.png" alt="f9" /></p>

<h2 id="q--a-how-to-prepare-eset-class-object-rdata-file-">Q &amp; A: How to prepare eSet class object RData file ?</h2>

<p>NetBID2 has provided lots of functions to assist eSet class object preparation.</p>

<p>Here, we show the codes of how to prepare the mouse eSet class object RData file:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mouse_eset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">load.exp.GEO</span><span class="p">(</span><span class="n">GSE</span><span class="o">=</span><span class="s1">'GSE25286'</span><span class="p">,</span><span class="n">GPL</span><span class="o">=</span><span class="s1">'GPL1261'</span><span class="p">,</span><span class="n">out.dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'mouse_BPD/'</span><span class="p">)</span><span class="w">
</span><span class="n">mouse_eset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">update_eset.phenotype</span><span class="p">(</span><span class="n">mouse_eset</span><span class="p">,</span><span class="n">use_col</span><span class="o">=</span><span class="s1">'GEO-auto'</span><span class="p">)</span><span class="w">
</span><span class="n">mouse_eset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">update_eset.feature</span><span class="p">(</span><span class="n">mouse_eset</span><span class="p">,</span><span class="n">use_feature_info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fData</span><span class="p">(</span><span class="n">mouse_eset</span><span class="p">),</span><span class="w">
              </span><span class="n">from_feature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'ID'</span><span class="p">,</span><span class="n">to_feature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Gene Symbol'</span><span class="p">)</span><span class="w">
</span><span class="n">save</span><span class="p">(</span><span class="n">mouse_eset</span><span class="p">,</span><span class="n">file</span><span class="o">=</span><span class="s1">'mouse_BPD/eset.RData'</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Considering the complexity of gene expression profile dataset, we do not provide function to directly generate eSet class file in NetBIDshiny. 
User could use <code class="highlighter-rouge">generate.eset()</code> function in NetBID2 as a help.</p>

<h2 id="q--a-how-to-use-self-defined-network-files-">Q &amp; A: How to use self-defined network files ?</h2>

<p>We have prepared a network in the package of NetBIDshiny, only two columns are required if user want to use networks not generated by <a href="https://github.com/jyyulab/SJARACNe">SJAracne</a>. 
User need to name those two columns by <code class="highlighter-rouge">source</code> and <code class="highlighter-rouge">target</code> to indicate network direction. All nodes in the <code class="highlighter-rouge">source</code> column will be treated as drivers in estimation.</p>

<p><img src="f10.png" alt="f10" /></p>

<h2 id="q--a-how-to-use-if-only-has-tf-network-without-sig-network-">Q &amp; A: How to use if only has TF network without SIG network ?</h2>

<p>In order to avoid condition that user forget to upload network files, we have prepared an empty network file in the NetBIDshiny package (<code class="highlighter-rouge">empty_network.txt</code>). User could choose to upload or select this network file if do not want other SIG network. (Same for only has SIG network without TF network)</p>

<h2 id="q--a-how-to-deploy-the-application-by-having-pre-generated-network-files-or-calculation-dataset-">Q &amp; A: How to deploy the application by having pre-generated network files or calculation dataset ?</h2>

<p>There are three options for running <code class="highlighter-rouge">NetBIDshiny.run4MR()</code>.</p>

<p>– <strong>search_network_path</strong>: path for network data searching in the application server. User could choose from: ‘Current Directory’,’Home’,’R Installation’,’Available Volumes’, and could put user-defined server path (better use absolute path). Default is c(‘Current Directory’,’Home’). If set to NULL, only ‘Current Directory’ will be used.</p>

<p>– <strong>search_eSet_path</strong>: path for expressionSet class RData searching in the application server. User could choose from: ‘Current Directory’,’Home’,’R Installation’,’Available Volumes’, and could put user-defined server path (better use absolute path). Default is c(‘Current Directory’,’Home’). If set to NULL, only ‘Current Directory’ will be used.</p>

<p>– <strong>project_main_dir</strong>: absolute path of the main working directory for driver analysis. If NULL, the server will add a new button for user to select the output directory. Default is NULL. If not NULL, there will be an additional link in the result page for downloading the zip file containing all information.</p>

<p>If user want to deploy the application with pre-generated network files, he could run the application like this (below is the screenshot for the data directory for our online version, the code is slightly different to the code in the package and we use the original code for deploying):</p>

<p><img src="f11.png" alt="f11" /></p>

<p>And put the output directory as options to run the application:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">NetBIDshiny.run4MR</span><span class="p">(</span><span class="n">search_network_path</span><span class="o">=</span><span class="s1">'data/network_txt'</span><span class="p">,</span><span class="w">
                  </span><span class="n">search_eSet_path</span><span class="o">=</span><span class="s1">'data/eSet_RData'</span><span class="p">,</span><span class="w">
                  </span><span class="n">project_main_dir</span><span class="o">=</span><span class="s1">'MR_result/'</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Thus, user could only select files under the defined directories.</p>

<hr />



          
        </div>
      </div>
    </div>
  </div>

</body>
</html>
